(this["webpackJsonptracker-strike"]=this["webpackJsonptracker-strike"]||[]).push([[0],{18:function(e,t,a){e.exports=a(39)},23:function(e,t,a){},24:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(14),r=a.n(i),l=(a(23),a(3)),c=a(4),o=a(2),u=a(6),h=a(5),m=(a(24),a(15)),d=a.n(m),p=(a(28),a(30),d.a.initializeApp({apiKey:"AIzaSyBw7SptYT2jKo6IblD6zCnjOX1qQPzpf78",authDomain:"tracker-strike.firebaseapp.com",databaseURL:"https://tracker-strike.firebaseio.com",projectId:"tracker-strike",storageBucket:"tracker-strike.appspot.com",messagingSenderId:"167547322406",appId:"1:167547322406:web:86d62186d991dbb6cde6e7"})),v=a(16),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).login=n.login.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.signup=n.signup.bind(Object(o.a)(n)),n.state={email:"",password:""},n}return Object(c.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){e.preventDefault(),p.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).catch((function(e){console.log(e)}))}},{key:"signup",value:function(e){e.preventDefault(),p.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-md-6"},s.a.createElement("form",null,s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"exampleInputEmail1"},"Email address"),s.a.createElement("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",class:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"}),s.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"},"We'll never share your email with anyone else.")),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{for:"exampleInputPassword1"},"Password"),s.a.createElement("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Password"})),s.a.createElement("button",{type:"submit",onClick:this.login,class:"btn btn-primary"},"Login"),s.a.createElement("button",{onClick:this.signup,style:{marginLeft:"25px"},className:"btn btn-success"},"Signup")))}}]),a}(n.Component),b=a(8),f=a.n(b),k=a(17),E=a.n(k),y=a(9),D=a.n(y);D.a.fcRoot(f.a,E.a);var S=[{name:"Time",type:"date",format:"%-m/%-d/%Y"},{name:"KD ratio",type:"number"},{name:"Practice",type:"number"}],j={chart:{},caption:{text:"Gameplay stats"},yaxis:[{plot:{value:"KD ratio",type:"area"},title:"KD ratio"},{plot:{value:"Practice",type:"column"},title:"Practice"}]},O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onFetchData=n.onFetchData.bind(Object(o.a)(n)),n.state={timeseriesDs:{type:"timeseries",renderAt:"container",width:"600",height:"400",dataSource:j}},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){console.log("Component updated"),this.props.values&&e.values&&this.props.values.length!==e.values.length&&this.onFetchData(this.props.values)}},{key:"componentDidMount",value:function(){}},{key:"onFetchData",value:function(e){var t=this;Promise.all([e,S]).then((function(e){var a=e[0],n=e[1],s=(new f.a.DataStore).createDataTable(a,n),i=Object.assign({},t.state.timeseriesDs);i.dataSource.data=s,t.setState({timeseriesDs:i})}))}},{key:"render",value:function(){return s.a.createElement("div",null,this.state.timeseriesDs.dataSource.data?s.a.createElement(D.a,this.state.timeseriesDs):"loading")}}]),a}(s.a.Component),w=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChangePractice=function(e){var t=e.target.validity.valid?e.target.value:n.state.practiceTime;n.setState({practiceTime:t})},n.handleChangeKills=function(e){var t=e.target.validity.valid?e.target.value:n.state.matchKills;n.setState({matchKills:t})},n.handleChangeDeaths=function(e){var t=e.target.validity.valid?e.target.value:n.state.matchDeaths;n.setState({matchDeaths:t})},n.submitPracticeStats=function(){var e=new Date,t={date:e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(),kills:0,deaths:0,practice:Number(n.state.practiceTime)};n.setState({practiceTime:""}),console.log(t);var a=p.database().ref().child(p.auth().currentUser.uid).push().key,s={};return s[p.auth().currentUser.uid+"/"+a]=t,p.database().ref().update(s)},n.submitGameStats=function(){var e=new Date,t={date:e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear(),kills:Number(n.state.matchKills),deaths:Number(n.state.matchDeaths),practice:0};n.setState({matchKills:"",matchDeaths:""}),console.log(t);var a=p.database().ref().child(p.auth().currentUser.uid).push().key,s={};return s[p.auth().currentUser.uid+"/"+a]=t,p.database().ref().update(s)},n.logout=n.logout.bind(Object(o.a)(n)),n.state={practiceTime:"",matchKills:"",matchDeaths:"",graphArray:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=null;p.database().ref(p.auth().currentUser.uid).on("value",(function(a){console.log("theres new values");var n=[],s={};console.log(JSON.stringify(a.val())),Object.values(a.val()).forEach((function(e){s[e.date]?(s[e.date].kills+=e.kills,s[e.date].deaths+=e.deaths,s[e.date].practice+=e.practice):s[e.date]={kills:e.kills,deaths:e.deaths,practice:e.practice}})),Object.keys(s).forEach((function(e){var a=s[e];t=0===a.deaths?a.kills:a.kills/a.deaths,n.push([e,t,a.practice])})),console.log(n),e.setState({careerStats:a.val(),graphArray:n})}))}},{key:"logout",value:function(){p.auth().signOut()}},{key:"render",value:function(){var e=0,t=0,a=0;return this.state.careerStats&&(Object.values(this.state.careerStats).forEach((function(t){e+=t.kills})),Object.values(this.state.careerStats).forEach((function(e){t+=e.deaths})),Object.values(this.state.careerStats).forEach((function(e){a+=e.practice}))),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",null,"Total career practice time: ",a," minutes"),s.a.createElement("div",null,"Total career kills: ",e),s.a.createElement("div",null,"Total career deaths: ",t)),s.a.createElement(O,{values:this.state.graphArray}),s.a.createElement("div",null,"Enter time practiced in minutes:",s.a.createElement("input",{type:"text",pattern:"[0-9]*",onChange:this.handleChangePractice,value:this.state.practiceTime}),s.a.createElement("button",{disabled:""===this.state.practiceTime,onClick:this.submitPracticeStats},"Submit practice time")),s.a.createElement("div",null,"Match stats",s.a.createElement("div",null,"Enter match kills:",s.a.createElement("input",{type:"text",pattern:"[0-9]*",onChange:this.handleChangeKills,value:this.state.matchKills})),s.a.createElement("div",null,"Enter match deaths:",s.a.createElement("input",{type:"text",pattern:"[0-9]*",onChange:this.handleChangeDeaths,value:this.state.matchDeaths})),s.a.createElement("button",{onClick:this.submitGameStats,disabled:""===this.state.matchKills||""===this.state.matchDeaths},"Submit match stats")),s.a.createElement("button",{onClick:this.logout},"Logout"))}}]),a}(n.Component),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).updateK=function(t){e.setState({k:t.target.value})},e.updateD=function(t){e.setState({d:t.target.value})},e.updateFirebase=function(){p.database().ref().set({practice:30,k:e.state.k,d:e.state.d})},e.state={user:null},e.authListener=e.authListener.bind(Object(o.a)(e)),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;p.auth().onAuthStateChanged((function(t){t?(console.log("logged in"),e.setState({user:t})):(console.log("could not log in"),e.setState({user:null}))}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},this.state.user?s.a.createElement(w,null):s.a.createElement(g,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.e29f1905.chunk.js.map